name: Release to GitHub

on:
    workflow_dispatch:
        inputs:
            run_id:
                description: 'The workflow id where the artifacts were uploaded'
                required: true
                type: string
            tag:
                description: 'Tag to be used (e.g. v8.8.8)'
                required: true
                type: string
            prerelease:
                description: 'Make the release a pre-release'
                required: true
                default: true
                type: boolean
            draft:
                description: 'Create draft release'
                required: true
                default: true
                type: boolean

jobs:
    release:
        runs-on: ['ubuntu-latest']
        steps:
            - name: Checkout
              uses: actions/checkout@v3
            - name: Download artifacts
              uses: dawidd6/action-download-artifact@v3
              with:
                  run_id: ${{ inputs.run_id }}
                  merge-multiple: true
            - name: List files
              run: ls -R
            # - name: Create Release
            # uses: ncipollo/release-action@v1.13.0
            # with:
            #     allowUpdates: false
            #     artifacts: 'release/*'
            #     commit: ${{ inputs.tag }}
            #     prerelease: ${{ inputs.prerelease }}
            #     draft: ${{ inputs.draft }}
